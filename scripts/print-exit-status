#!/usr/bin/env bash
# Print exit status in a shell-agnostic way.
# Usage: print-exit-status <status>
if [ "$#" -gt 0 ]; then
  status=$1
else
  # If called from fish prompt helper, fish provides $status; bash/sh uses $?
  if [ -n "${status:-}" ]; then
    # already set
    :
  fi
  status=$?
fi
printf 'EXIT:%s\n' "$status"
